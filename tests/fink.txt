
Set up the loader.

  >>> from smart.backends.deb.fink_virtual_pkgs import FinkVirtualPkgsLoader
  >>> localpath = "%s/deb/fink-virtual-pkgs" % TESTDATADIR
  >>> loader = FinkVirtualPkgsLoader(localpath)
  
Let's create a cache to put the loader in, so that we can test it.

  >>> from smart.cache import Cache
  >>> cache = Cache()
  >>> cache.addLoader(loader)

The setup is ready. Now we can load the data into the cache.

  >>> cache.load()
  Updating cache...               ######################################## [100%]
  <BLANKLINE>

This should give us one test pkg with data we already know.

  >>> cache.getPackages()
  [macosx...]
  >>> pkg = cache.getPackages()[0]
  >>> info = loader.getInfo(pkg)

  >>> pkg.installed
  True
  >>> info.getSummary()
  '[virtual package representing the system]'

